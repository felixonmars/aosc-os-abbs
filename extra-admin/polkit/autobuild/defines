PKGNAME=polkit
PKGDES="Application development toolkit for controlling system-wide privileges"
PKGSEC=admin
PKGDEP="expat systemd glib linux-pam js-78"
PKGDEP__RETRO="expat systemd glib linux-pam duktape"
PKGDEP__LOONGARCH64="${PKGDEP/js-78/duktape}"
PKGDEP__ARMV4="${PKGDEP__RETRO}"
PKGDEP__ARMV6HF="${PKGDEP__RETRO}"
PKGDEP__ARMV7HF="${PKGDEP__RETRO}"
PKGDEP__I486="${PKGDEP__RETRO}"
PKGDEP__LOONGSON2F="${PKGDEP__RETRO}"
PKGDEP__POWERPC="${PKGDEP__RETRO}"
PKGDEP__PPC64="${PKGDEP__RETRO}"
BUILDDEP="autoconf-archive docbook-xsl gobject-introspection gtk-doc intltool libxslt"
BUILDDEP__RETRO="autoconf-archive docbook-xsl intltool libxslt"
BUILDDEP__ARMV4="${BUILDDEP__RETRO}"
BUILDDEP__ARMV6HF="${BUILDDEP__RETRO}"
BUILDDEP__ARMV7HF="${BUILDDEP__RETRO}"
BUILDDEP__I486="${BUILDDEP__RETRO}"
BUILDDEP__LOONGSON2F="${BUILDDEP__RETRO}"
BUILDDEP__POWERPC="${BUILDDEP__RETRO}"
BUILDDEP__PPC64="${BUILDDEP__RETRO}"

ABTYPE=meson
MESON_AFTER=" \
    -Db_lto=true \
    -Db_pie=true \
    -Dman=true \
    -Dgtk_doc=true \
    -Dos_type=redhat \
    -Dsession_tracking=libsystemd-login"
MESON_AFTER__LOONGARCH64="${MESON_AFTER} -Djs_engine=duktape"
MESON_AFTER__RETRO=" \
    ${MESON_AFTER} \
    -Dgtk_doc=false \
    -Dintrospection=false \
    -Djs_engine=duktape"
MESON_AFTER__ARMV4="${MESON_AFTER__RETRO}"
MESON_AFTER__ARMV6HF="${MESON_AFTER__RETRO}"
MESON_AFTER__ARMV7HF="${MESON_AFTER__RETRO}"
MESON_AFTER__I486="${MESON_AFTER__RETRO}"
MESON_AFTER__LOONGSON2F="${MESON_AFTER__RETRO}"
MESON_AFTER__POWERPC="${MESON_AFTER__RETRO}"
MESON_AFTER__PPC64="${MESON_AFTER__RETRO}"

PKGEPOCH=1
